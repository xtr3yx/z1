<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Gym Games</title>

  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide -->
  <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.js"></script>
</head>

<body class="bg-gray-900">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;
    const { RotateCcw, Trophy, ArrowRight } = lucideReact;

    const GymGames = () => {
      const [gameStage, setGameStage] = useState(1);
      const [cards, setCards] = useState([]);
      const [flipped, setFlipped] = useState([]);
      const [matched, setMatched] = useState([]);
      const [moves, setMoves] = useState(0);
      const [memoryComplete, setMemoryComplete] = useState(false);

      const [selectedExercise, setSelectedExercise] = useState(null);
      const [correctMatches, setCorrectMatches] = useState([]);
      const [wrongAttempts, setWrongAttempts] = useState(0);

      const patterns = [
        { id: 1, content: 'ğŸ‹ï¸\nPRZYSIADY', color: '#DC2626' },
        { id: 2, content: 'ğŸ’ª\nPOMPKI', color: '#EA580C' },
        { id: 3, content: 'ğŸ¦µ\nMARTWY CIÄ„G', color: '#CA8A04' },
        { id: 4, content: 'ğŸƒ\nBIEÅ»NIA', color: '#65A30D' },
        { id: 5, content: 'ğŸ¤¸\nBURPEES', color: '#059669' },
        { id: 6, content: 'ğŸ‹ï¸\nSZTANGA', color: '#0891B2' },
        { id: 7, content: 'âš–ï¸\nHANTLE', color: '#0284C7' },
        { id: 8, content: 'ğŸ”—\nKETTLEBELL', color: '#2563EB' },
        { id: 9, content: 'ğŸ’ª\nBICEPS', color: '#4F46E5' },
        { id: 10, content: 'ğŸ¦¾\nTRICEPS', color: '#7C3AED' },
        { id: 11, content: 'ğŸ«€\nKLATKA', color: '#A21CAF' },
        { id: 12, content: 'ğŸ¦´\nPLECY', color: '#BE185D' },
        { id: 13, content: 'ğŸ§—\nPODCIÄ„GANIE', color: '#DB2777' },
        { id: 14, content: 'ğŸ¯\nBALANCE BALL', color: '#4338CA' },
        { id: 15, content: 'ğŸ‹ï¸\nWYCISKANIE', color: '#7C3AED' }
      ];

      const exerciseMuscleMatches = [
        { exercise: 'ğŸ’ª POMPKI', muscle: 'ğŸ«€ KLATKA', id: 1 },
        { exercise: 'ğŸ‹ï¸ PRZYSIADY', muscle: 'ğŸ¦µ NOGI', id: 2 },
        { exercise: 'ğŸ§— PODCIÄ„GANIE', muscle: 'ğŸ¦´ PLECY', id: 3 },
        { exercise: 'ğŸ‹ï¸ WYCISKANIE', muscle: 'ğŸ«€ KLATKA', id: 4 },
        { exercise: 'âš–ï¸ UGINANIE', muscle: 'ğŸ’ª BICEPS', id: 5 },
        { exercise: 'ğŸ”— FRENCH PRESS', muscle: 'ğŸ¦¾ TRICEPS', id: 6 },
      ];

      useEffect(() => init(), []);

      const init = () => {
        const d = [...patterns, ...patterns].map((c, i) => ({ ...c, uid: i }));
        setCards(d.sort(() => Math.random() - 0.5));
        setFlipped([]);
        setMatched([]);
        setMoves(0);
        setMemoryComplete(false);
      };

      const clickCard = (i) => {
        if (flipped.includes(i) || matched.includes(i) || flipped.length === 2) return;
        const f = [...flipped, i];
        setFlipped(f);
        if (f.length === 2) {
          setMoves(m => m + 1);
          if (cards[f[0]].id === cards[f[1]].id) {
            setTimeout(() => {
              const m = [...matched, ...f];
              setMatched(m);
              setFlipped([]);
              if (m.length === cards.length) setMemoryComplete(true);
            }, 500);
          } else setTimeout(() => setFlipped([]), 900);
        }
      };

      if (gameStage === 1) {
        return (
          <div className="min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-500 to-red-500 p-4">
            <div className="bg-white p-6 rounded-2xl max-w-6xl w-full">
              <h1 className="text-4xl font-bold text-center mb-4">ğŸ’ª Memory â€“ SiÅ‚ownia</h1>
              <div className="grid grid-cols-6 gap-3">
                {cards.map((c, i) => {
                  const open = flipped.includes(i) || matched.includes(i);
                  return (
                    <div key={c.uid} onClick={() => clickCard(i)}
                      className="aspect-square cursor-pointer rounded-xl shadow-lg flex items-center justify-center text-white text-2xl font-bold"
                      style={{ background: open ? c.color : '#6366F1' }}>
                      {open ? c.content : 'â“'}
                    </div>
                  );
                })}
              </div>
              {memoryComplete && (
                <button onClick={() => setGameStage(2)}
                  className="mt-6 block mx-auto bg-green-500 text-white px-6 py-3 rounded-xl text-xl">
                  Gra 2 â†’
                </button>
              )}
            </div>
          </div>
        );
      }

      if (gameStage === 2) {
        const muscles = ['ğŸ«€ KLATKA', 'ğŸ¦µ NOGI', 'ğŸ¦´ PLECY', 'ğŸ’ª BICEPS', 'ğŸ¦¾ TRICEPS'];
        return (
          <div className="min-h-screen flex items-center justify-center bg-indigo-600 p-6">
            <div className="bg-white p-8 rounded-2xl w-full max-w-4xl grid grid-cols-2 gap-6">
              <div>
                {exerciseMuscleMatches.map(e => (
                  <button key={e.id} onClick={() => setSelectedExercise(e.exercise)}
                    className="block w-full mb-3 bg-orange-500 text-white p-3 rounded-xl">
                    {e.exercise}
                  </button>
                ))}
              </div>
              <div>
                {muscles.map(m => (
                  <button key={m} onClick={() => {
                    const ok = exerciseMuscleMatches.find(e => e.exercise === selectedExercise && e.muscle === m);
                    ok ? setCorrectMatches([...correctMatches, ok.id]) : setWrongAttempts(w => w + 1);
                    if (correctMatches.length + 1 === 6) setGameStage(3);
                  }}
                    className="block w-full mb-3 bg-purple-500 text-white p-3 rounded-xl">
                    {m}
                  </button>
                ))}
              </div>
            </div>
          </div>
        );
      }

      return (
        <div className="min-h-screen flex items-center justify-center bg-yellow-400">
          <div className="bg-white p-12 rounded-2xl text-center">
            <div className="text-[150px] font-black text-indigo-700">9</div>
            <h1 className="text-4xl font-bold">GRATULACJE ğŸ‰</h1>
            <button onClick={() => { setGameStage(1); init(); }}
              className="mt-6 bg-indigo-600 text-white px-6 py-3 rounded-xl">
              Restart
            </button>
          </div>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById("root")).render(<GymGames />);
  </script>
</body>
</html>
